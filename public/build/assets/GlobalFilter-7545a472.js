import{r as d,w as V,o as i,c as n,a as l,b as e,d as r,u as t,h as q,i as J,e as m,f as h,n as D,t as x,F as g,j as E,S as K,k as w}from"./app-be752e86.js";import{u as Q,T as O,_ as W,g as N,M as ee}from"./TreeView-4a02c98c.js";import{_ as te}from"./ProductCard-8ab1e814.js";import{V as k,X as $,Y as S,_ as se}from"./AuthenticatedLayout-16295b11.js";import{U as ae,h as M,G as re,r as le,S as oe,a as ie,C as ne}from"./Toastr-4f97591a.js";import{r as A,a as C,b as ce,c as de,d as ue,e as fe}from"./Squares2X2Icon-1eddb0d0.js";import{R as pe,h as me,y as he,M as ge}from"./Avatar-996ef94d.js";import"./AccessoryCard-305ef18a.js";import"./lodash-1ca0ee9b.js";import"./CartStore-76e4ad5a.js";import"./CommandPalette-97a0a532.js";const ye={class:"bg-white"},_e=e("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1),be={class:"fixed inset-0 z-40 flex"},xe={class:"flex items-center justify-between px-4"},ve=e("h2",{class:"text-lg font-medium text-gray-900"},"Filters",-1),we=e("span",{class:"sr-only"},"Close menu",-1),ke={class:"mt-4 border-t border-gray-200"},$e=e("h3",{class:"sr-only"},"Categories",-1),Se={class:"-my-3 flow-root"},Ae=e("span",{class:"font-medium text-gray-900"},"Products Filter",-1),Ce={class:"ml-6 flex items-center"},je={class:"mx-auto px-4 sm:px-6 lg:px-8"},Te={class:"flex items-baseline justify-between border-b border-gray-200 pt-24 pb-6"},Fe=e("h1",{class:"text-4xl font-bold tracking-tight text-gray-900"},"Produits",-1),Pe={class:"flex items-center"},Be={class:"py-1"},Ge=["onClick"],ze=e("span",{class:"sr-only"},"View grid",-1),Ve=e("span",{class:"sr-only"},"Filters",-1),De={class:"bg-gray-100"},Ee={class:"mx-auto max-w-7xl py-3 px-4 sm:flex sm:items-center sm:px-6 lg:px-8"},Oe=e("h3",{class:"text-sm font-medium text-gray-500 mb-2 sm:mb-0"},[q(" Products Accessories "),e("span",{class:"sr-only"},", active")],-1),Ne=e("div",{"aria-hidden":"true",class:"hidden h-5 w-px bg-gray-300 sm:ml-4 sm:block"},null,-1),Me=["id","onClick"],qe={class:"mx-1 cursor-pointer flex truncate justify-center items-center"},He={"aria-labelledby":"products-heading",class:"pt-6 pb-24"},Ie=e("h2",{id:"products-heading",class:"sr-only"},"Products",-1),Re={class:"bg-white bo rounded p-4"},Ue=e("h3",{class:"sr-only"},"Filters",-1),Ze={class:"-my-3 flow-root"},Le=e("span",{class:"font-medium text-gray-900"},"Categories",-1),Xe={class:"ml-6 flex items-center"},Ye={class:"-mx-2 -my-3 flow-root"},Je={class:"font-medium text-gray-900"},Ke={class:"ml-6 flex items-center"},Qe={class:"space-y-6"},We=["id","name","value","checked"],et=["for"],tt={class:"lg:col-span-3"},st={class:"rounded-lg lg:h-full"},gt={__name:"GlobalFilter",props:{products:{type:Object},categories:{type:Array,default:()=>[]},type_accessoire:{type:Array,default:()=>[]},brands:{type:Array,default:()=>[]}},setup(H){const y=H,v=d(!1),j=d(null),I=a=>{v.value=!v.value,j.value=a},R=Q(),_=d(!1),u=d([]),U=a=>{let o=Object.keys(a).map(s=>a[s].map(p=>`${s}[]=${p}`).join("&")).join("&");w.post(`/globalfilter/products?${o}`).then(s=>{u.value=s.data})};let T=d([]);V(()=>{let a=u.value.data?u.value.data:[];T.value=a.map(o=>({value:o.id,label:o.name}))});const F=d("");V(()=>{F.value=R.getTreeData.filter(a=>a.checked===!0).reduce((a,o)=>(a[o.level]||(a[o.level]=[]),a[o.level].push(o.id),a),{}),U(F.value)});const P=a=>{w.post(`/globalfilter/products?price=${a}`).then(o=>{u.value=o.data})},Z=()=>{c.forEach(a=>{a.current=!1}),c[0].current=!0,P("asc")},L=()=>{c.forEach(a=>{a.current=!1}),c[1].current=!0,P("desc")},B=a=>{w.post(`/globalfilter/products?name=${a}`).then(o=>{u.value=o.data})},c=[{name:"Prix: Bas à Haut",href:"#",current:!1,function:Z},{name:"Prix : Haut à Bas",href:"#",current:!1,function:L},{name:"A à Z",href:"#",current:!1,function:()=>{c.forEach(a=>{a.current=!1}),c[2].current=!0,B("asc")}},{name:"Z à A",href:"#",current:!1,function:()=>{c.forEach(a=>{a.current=!1}),c[3].current=!0,B("desc")}}],f=d("grid"),X=()=>{f.value==="grid"?f.value="list":f.value="grid"};let G={settings:{itemsToShow:1,snapAlign:"center"},breakpoints:{0:{itemsToShow:1,snapAlign:"center"},500:{itemsToShow:2,snapAlign:"center"},800:{itemsToShow:3,snapAlign:"center"},1e3:{itemsToShow:4,snapAlign:"center"}}};const Y=[{id:"brand",name:"Brand",filter:"by_brand_id",param:"brand_id",options:y.brands.map(a=>({value:a.id,label:a.name,checked:!1,filter:"by_brand_id",param:"brand_id"}))}];return(a,o)=>(i(),n(se,{title:"GlobalFilter",description:"GlobalFilter"},{default:l(()=>[e("div",ye,[e("div",null,[r(t(oe),{as:"template",show:_.value},{default:l(()=>[r(t(ae),{as:"div",class:"relative z-40 lg:hidden",onClose:o[1]||(o[1]=s=>_.value=!1)},{default:l(()=>[r(t(M),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:l(()=>[_e]),_:1}),e("div",be,[r(t(M),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:l(()=>[r(t(re),{class:"relative ml-auto flex h-full w-full max-w-xs flex-col overflow-y-auto bg-white py-4 pb-12 shadow-xl"},{default:l(()=>[e("div",xe,[ve,e("button",{type:"button",class:"-mr-2 flex h-10 w-10 items-center justify-center rounded-md bg-white p-2 text-gray-400",onClick:o[0]||(o[0]=s=>_.value=!1)},[we,r(t(le),{class:"h-6 w-6","aria-hidden":"true"})])]),e("form",ke,[$e,r(t(k),{as:"div",class:"m-5 border-b border-gray-200 py-6"},{default:l(({open:s})=>[e("h3",Se,[r(t($),{class:"flex w-full items-center justify-between bg-white py-3 text-sm text-gray-400 hover:text-gray-500"},{default:l(()=>[Ae,e("span",Ce,[s?(i(),n(t(C),{key:1,class:"h-5 w-5","aria-hidden":"true"})):(i(),n(t(A),{key:0,class:"h-5 w-5","aria-hidden":"true"}))])]),_:2},1024)]),r(t(S),{class:"bg-white py-5"},{default:l(()=>[r(O,{categories:y.categories},null,8,["categories"])]),_:1})]),_:1})])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),e("main",je,[e("div",Te,[Fe,e("div",Pe,[r(t(ge),{as:"div",class:"relative inline-block text-left"},{default:l(()=>[e("div",null,[r(t(pe),{class:"group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900"},{default:l(()=>[q(" Trier "),r(t(ce),{class:"-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})]),_:1})]),r(J,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:l(()=>[r(t(me),{class:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:l(()=>[e("div",Be,[(i(),m(g,null,h(c,s=>r(t(he),{key:s.name},{default:l(({active:p})=>[e("a",{onClick:s.function,class:D(["cursor-pointer",[s.current?"font-medium text-gray-900":"text-gray-500",p?"bg-gray-100":"","block px-4 py-2 text-sm"]])},x(s.name),11,Ge)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}),e("button",{onClick:X,type:"button",class:"-m-2 ml-5 p-2 text-gray-400 hover:text-gray-500 sm:ml-7"},[ze,f.value==="grid"?(i(),n(t(de),{key:0,class:"h-5 w-5","aria-hidden":"true"})):E("",!0),f.value==="list"?(i(),n(t(ue),{key:1,class:"h-5 w-5","aria-hidden":"true"})):E("",!0)]),e("button",{type:"button",class:"-m-2 ml-4 p-2 text-gray-400 hover:text-gray-500 sm:ml-6 lg:hidden",onClick:o[2]||(o[2]=s=>_.value=!0)},[Ve,r(t(fe),{class:"h-5 w-5","aria-hidden":"true"})])])]),e("div",De,[e("div",Ee,[Oe,Ne,r(t(ne),K(t(G).settings,{breakpoints:t(G).breakpoints,"items-to-show":4,class:"w-full space-x-2","wrap-around":!0}),{default:l(()=>[(i(!0),m(g,null,h(t(T),s=>(i(),n(t(ie),{key:s.value,class:"m-1 inline-flex items-center rounded-full border border-gray-200 bg-white py-1.5 pl-3 pr-2 text-sm font-medium text-gray-900 inline-flex items-center justify-between w-full p-5 hover:bg-gray-50 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700"},{default:l(()=>[e("label",null,[e("input",{type:"radio",id:"react-option-"+s.value,class:"hidden peer",required:"",onClick:p=>I(s.value)},null,8,Me),e("span",qe,x(s.label),1)])]),_:2},1024))),128))]),_:1},16,["breakpoints"])]),r(W,{open:v.value,type_accessoire:y.type_accessoire,productId:j.value},null,8,["open","type_accessoire","productId"])]),e("section",He,[Ie,e("div",null,[r(t(ee),{"push-other-panes":!1,class:"w-full grid grid-cols-1 gap-y-10 gap-x-6 sm:grid-cols-2 lg:grid-cols-4 xl:gap-x-8 default-theme"},{default:l(()=>[r(t(N),{style:{"background-color":"white !important",border:"none"},"min-size":"50",size:"50",class:"hidden lg:block p-4"},{default:l(()=>[e("form",Re,[Ue,r(t(k),{as:"div",class:"border-b border-gray-200 py-6"},{default:l(({open:s})=>[e("h3",Ze,[r(t($),{class:"flex w-full items-center justify-between bg-white py-3 text-sm text-gray-400 hover:text-gray-500"},{default:l(()=>[Le,e("span",Xe,[s?(i(),n(t(C),{key:1,class:"h-5 w-5","aria-hidden":"true"})):(i(),n(t(A),{key:0,class:"h-5 w-5","aria-hidden":"true"}))])]),_:2},1024)]),r(t(S),{class:"bg-white py-5"},{default:l(()=>[r(O,{categories:y.categories},null,8,["categories"])]),_:1})]),_:1}),(i(),m(g,null,h(Y,s=>r(t(k),{as:"div",key:s.id,class:"border-t border-gray-200 px-4 py-6"},{default:l(({open:p})=>[e("h3",Ye,[r(t($),{class:"flex w-full items-center justify-between bg-white px-2 py-3 text-gray-400 hover:text-gray-500"},{default:l(()=>[e("span",Je,x(s.name),1),e("span",Ke,[p?(i(),n(t(C),{key:1,class:"h-5 w-5","aria-hidden":"true"})):(i(),n(t(A),{key:0,class:"h-5 w-5","aria-hidden":"true"}))])]),_:2},1024)]),r(t(S),{class:"pt-6"},{default:l(()=>[e("div",Qe,[(i(!0),m(g,null,h(s.options,(b,z)=>(i(),m("div",{key:b.value,class:"flex items-center"},[e("input",{id:`filter-mobile-${s.id}-${z}`,name:`${s.id}[]`,value:b,type:"checkbox",checked:b.checked,class:"h-4 w-4 rounded border-gray-300 text-cerulean-600 focus:ring-cerulean-500"},null,8,We),e("label",{for:`filter-mobile-${s.id}-${z}`,class:"ml-3 min-w-0 flex-1 text-gray-500"},x(b.label),9,et)]))),128))])]),_:2},1024)]),_:2},1024)),64))])]),_:1}),r(t(N),{class:"w-full p-4 bg-white",style:{"background-color":"white !important"},size:"150"},{default:l(()=>[e("div",tt,[e("div",st,[e("div",{class:D(f.value==="grid"?"flex flex-col gap-y-10 sm:flex-row sm:gap-x-6 lg:flex-row lg:gap-x-8 lg:flex-wrap":"grid grid-cols-1 gap-y-6")},[(i(!0),m(g,null,h(u.value.data,s=>(i(),n(te,{key:s.id,product:s,class:"col-span-1 divide-y divide-gray-200 rounded-lg bg-white"},null,8,["product"]))),128))],2)])])]),_:1})]),_:1})])])])])])]),_:1}))}};export{gt as default};
