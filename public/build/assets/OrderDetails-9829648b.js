import{_ as y}from"./Pagination-f57db763.js";import{_ as b}from"./AuthenticatedLayout-16295b11.js";import{h as v}from"./moment-fbc5633a.js";import{o as n,e as i,b as e,r as w,l as k,c as j,a as D,t,h as I,f as C,u as l,d as _,n as B,F as z}from"./app-be752e86.js";import"./Toastr-4f97591a.js";import"./CommandPalette-97a0a532.js";import"./CartStore-76e4ad5a.js";import"./Avatar-996ef94d.js";function N(s,r){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z","clip-rule":"evenodd"})])}const O={class:"sticky top-0 z-5 flex h-16 flex-shrink-0 border-b border-gray-200 bg-white"},Y={class:"flex flex-1 justify-between px-4"},$=e("div",null,null,-1),L={class:"ml-4 flex items-center lg:ml-6"},M=["href"],S={class:"bg-gray-50"},T={class:"mx-auto max-w-2xl pt-8 pb-24 sm:px-6 sm:pt-16 lg:max-w-7xl lg:px-8"},V={class:"space-y-2 px-4 sm:flex sm:items-baseline sm:justify-between sm:space-y-0 sm:px-0"},q={class:"flex sm:items-baseline sm:space-x-4"},A={class:"text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl"},E={class:"text-sm text-gray-600"},F={datetime:"2021-03-22",class:"font-medium text-gray-900"},R={"aria-labelledby":"cart-heading"},P=e("h2",{id:"cart-heading",class:"sr-only"},"Items in your shopping cart",-1),Q={role:"list",class:"divide-y divide-gray-200 border-t border-b border-gray-200"},U={class:"flex-shrink-0"},W=["src"],G={key:1,src:"https://placehold.co/600x400?text=No Image",class:"h-24 w-24 rounded-md object-cover object-center sm:h-32 sm:w-32"},H={class:"ml-4 flex flex-1 flex-col sm:ml-6"},J={class:"flex justify-between"},K={class:"text-sm"},X=["href"],Z={class:"text-sm font-medium text-gray-900 mt-5"},ee={class:"ml-4 text-sm font-medium text-gray-900"},te=e("div",{class:"mt-4 flex flex-1 items-end justify-between"},null,-1),se=["href"],oe=e("span",null,"Avis ",-1),re={"aria-labelledby":"summary-heading",class:"mt-16"},ae=e("h2",{id:"summary-heading",class:"sr-only"},"Résumé de la facturation",-1),ce={class:"bg-gray-100 py-6 px-4 sm:rounded-lg sm:px-6 lg:grid lg:grid-cols-12 lg:gap-x-8 lg:px-8 lg:py-8"},ne={class:"grid grid-cols-2 gap-6 text-sm sm:grid-cols-2 md:gap-x-8 lg:col-span-7"},de=e("dt",{class:"font-medium text-gray-900"},"Adresse de facturation",-1),ie={class:"mt-3 text-gray-500"},le={class:"block"},me={class:"block"},ue={class:"block"},he={class:"block"},_e={class:"block"},fe={class:"block"},pe={class:"mt-8 divide-y divide-gray-200 text-sm lg:col-span-5 lg:mt-0"},xe={class:"flex items-center justify-between pb-4"},ge=e("dt",{class:"text-gray-600"},"Sous-total",-1),ye={class:"font-medium text-gray-900"},be=e("div",{class:"flex items-center justify-between py-8"},null,-1),ve={class:"flex items-center justify-between pt-4"},we=e("dt",{class:"font-medium text-gray-900"},"Total de la commande",-1),ke={class:"font-medium text-cerulean-600"},Ye={__name:"OrderDetails",props:{order:{type:Object,required:!0},orderItems:{type:Object}},setup(s){const r=s;w(!1);const f=a=>{if(a)return v(String(a)).format("YYYY - MM - DD")};var m=a=>a.medias.filter(d=>d.type&&d.type.startsWith("image/"));const p=k(()=>{const a=r.orderItems.data.map(c=>c.product.id),d=r.orderItems.data.map(c=>c.product.accessories.map(g=>g.id)),o=r.order.id,x="https://www.trp-france.fr",u=new URL(`${x}/tickets/create`),h={products:a,accessories:d,orders:o};return Object.keys(h).forEach(c=>u.searchParams.append(c,h[c])),u.href});return(a,d)=>(n(),j(b,{title:"Détails de la commande",description:"Détails de la commande"},{default:D(()=>[e("div",O,[e("div",Y,[$,e("div",L,[e("a",{type:"button",href:p.value,target:"_blank",class:"cursor-pointer inline-flex items-center rounded-md border border-transparent bg-cerulean-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-cerulean-700 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2"}," Créer un nouveau ticket ",8,M)])])]),e("div",S,[e("main",T,[e("div",V,[e("div",q,[e("h1",A," Commande #00"+t(s.order.id),1)]),e("p",E,[I(" Commande passée"),e("time",F,t(f(r.order.created_at)),1)])]),e("section",R,[P,e("ul",Q,[(n(!0),i(z,null,C(r.orderItems.data,o=>(n(),i("li",{key:o.id,class:"flex py-6"},[e("div",U,[l(m)(o.product).length>0?(n(),i("img",{key:0,src:l(m)(o.product)[0].url,class:"h-24 w-24 rounded-md object-cover object-center sm:h-32 sm:w-32"},null,8,W)):(n(),i("img",G))]),e("div",H,[e("div",null,[e("div",J,[e("h4",K,[e("a",{href:o.product.id,class:"font-medium text-gray-700 hover:text-gray-800"},t(o.product.name),9,X),e("p",Z," Quantité : "+t(o.quantity),1)]),e("p",ee,t(o.amount)+"€",1)])]),te,e("a",{type:"button",href:`/product/${o.product.id}/feedback/create`,class:"inline-flex items-center justify-between space-x-1 self-end rounded-full border border-transparent bg-cerulean-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-cerulean-700 focus:outline-none focus:ring-2 focus:ring-cerulean-500 focus:ring-offset-2"},[oe,_(l(N),{class:B("text-yellow-400 flex-shrink-0 h-5 w-5"),"aria-hidden":"true"})],8,se)])]))),128))])]),_(y,{links:r.orderItems.links},null,8,["links"]),e("section",re,[ae,e("div",ce,[e("dl",ne,[e("div",null,[de,e("dd",ie,[e("span",le,t(s.order.address),1),e("span",me,t(s.order.city),1),e("span",ue,t(s.order.state),1),e("span",he,t(s.order.country),1),e("span",_e,t(s.order.zip_code),1),e("span",fe,t(s.order.apartment),1)])])]),e("dl",pe,[e("div",xe,[ge,e("dd",ye,t(s.order.total_price)+"€",1)]),be,e("div",ve,[we,e("dd",ke,t(s.order.total_price)+"€",1)])])])])])])]),_:1}))}};export{Ye as default};
