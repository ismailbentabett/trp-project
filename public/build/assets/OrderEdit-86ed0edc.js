import{r as g,T as v,o as c,c as h,a as b,b as e,x as V,d as o,u as t,e as _,f as w,t as u,F as k}from"./app-be752e86.js";import{_ as U}from"./AuthenticatedLayout-16295b11.js";import{_ as n}from"./InputError-e30f7fb8.js";import{_ as r,a as i}from"./TextInput-78f436d4.js";import{_ as q}from"./SelectField-b25c1ffd.js";import{c as z}from"./countries-95ac9151.js";import{r as $}from"./TrashIcon-534ed732.js";import"./Toastr-4f97591a.js";import"./CommandPalette-97a0a532.js";import"./CartStore-76e4ad5a.js";import"./Avatar-996ef94d.js";import"./listbox-82e5f2d6.js";const j={class:"bg-gray-50"},S={class:"mx-auto max-w-2xl px-4 pt-16 pb-24 sm:px-6 lg:max-w-7xl lg:px-8"},N=e("h2",{class:"sr-only"},"Mise à jour de l'ordre",-1),B=["onSubmit"],C=e("h2",{class:"text-lg font-medium text-gray-900 my-5"},"Informations sur les contacts",-1),I={class:"sm:col-span-6"},M=e("h2",{class:"text-lg font-medium text-gray-900 my-5"},"Informations sur l'expédition",-1),O={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},E={class:"sm:col-span-6"},T={class:"sm:col-span-6"},A=e("label",{for:"country",class:"block text-sm font-medium text-gray-700"},"Pays",-1),D={class:"mt-1"},F={class:"sm:col-span-6"},L={class:"sm:col-span-6"},P={class:"sm:col-span-2"},Q={class:"sm:col-span-6"},R={class:"sm:col-span-2"},G={class:"sm:col-span-6"},H={class:"sm:col-span-2"},J={class:"sm:col-span-6"},K={class:"sm:col-span-6"},W={class:"sm:col-span-6"},X={class:"sm:col-span-6"},Y={class:"sm:col-span-6"},Z={class:"sm:col-span-6"},ee={class:"sm:col-span-6"},se={class:"mt-10 lg:mt-0"},te=e("h2",{class:"text-lg font-medium text-gray-900"},"Résumé de la commande",-1),oe={class:"mt-4 rounded-lg border border-gray-200 bg-white shadow-sm"},ae=e("h3",{class:"sr-only"},"Items in your cart",-1),le={role:"list",class:"divide-y divide-gray-200"},de=e("div",{class:"flex-shrink-0"},null,-1),ne={class:"ml-6 flex flex-1 flex-col"},re={class:"flex"},ie={class:"min-w-0 flex-1"},me={class:"text-sm"},ce=["href"],ue={class:"ml-4 flow-root flex-shrink-0"},pe={type:"button",class:"-m-2.5 flex items-center justify-center bg-white p-2.5 text-gray-400 hover:text-gray-500"},_e=e("span",{class:"sr-only"},"Supprimer",-1),fe={class:"flex flex-1 items-end justify-between pt-2"},ye={class:"mt-1 text-sm font-medium text-gray-900"},xe={class:"ml-4"},ge={for:"quantity",class:""},ve=e("dl",{class:"space-y-6 border-t border-gray-200 py-6 px-4 sm:px-6"},[e("div",{class:"flex items-center justify-between"},[e("dt",{class:"text-sm"},"Subtotal"),e("dd",{class:"text-sm font-medium text-gray-900"},"64.00€")]),e("div",{class:"flex items-center justify-between"},[e("dt",{class:"text-sm"},"Shipping"),e("dd",{class:"text-sm font-medium text-gray-900"},"5.00€")]),e("div",{class:"flex items-center justify-between"},[e("dt",{class:"text-sm"},"Taxes"),e("dd",{class:"text-sm font-medium text-gray-900"},"5.52€")]),e("div",{class:"flex items-center justify-between border-t border-gray-200 pt-6"},[e("dt",{class:"text-base font-medium"},"Total"),e("dd",{class:"text-base font-medium text-gray-900"},"75.52€")])],-1),he=e("div",{class:"border-t border-gray-200 py-6 px-4 sm:px-6"},[e("div",{class:"mt-10"},[e("button",{type:"submit",class:"w-full rounded-md border border-transparent bg-cerulean-600 py-3 px-4 text-base font-medium text-white shadow-sm hover:bg-cerulean-700 focus:outline-none focus:ring-2 focus:ring-cerulean-500 focus:ring-offset-2 focus:ring-offset-gray-50"}," Update ")])],-1),Ie={__name:"OrderEdit",props:{order:{type:Object}},setup(f){const p=f,d=g(p.order),y=()=>{axios.post(`/orders/${d.value.id}/edit`,{name:s.name,email:s.email,state:s.state,city:s.city,address:s.address,zip_code:s.zip_code,phone:s.phone,country:s.country,company_name:s.company_name,apartment:s.apartment}).then(m=>{})},x=m=>{axios.delete(`/orders/${p.order.id}/item/${m}`).then(l=>{d.value=l.data,l.data==0&&(window.location.href="/products")})},s=v({name:d.value.name,email:d.value.email,state:d.value.state,city:d.value.city,address:d.value.address,zip_code:d.value.zip_code,phone:d.value.phone,country:d.value.country,company_name:d.value.company_name,apartment:d.value.apartment});return(m,l)=>(c(),h(U,{title:"Modification de la commande",description:"Modification de la commande"},{default:b(()=>[e("div",j,[e("div",S,[N,e("form",{class:"lg:grid lg:grid-cols-2 lg:gap-x-12 xl:gap-x-16",onSubmit:V(y,["prevent"])},[e("div",null,[e("div",null,[C,e("div",I,[o(r,{for:"email",value:"Email"}),o(i,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(s).email,"onUpdate:modelValue":l[0]||(l[0]=a=>t(s).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.email},null,8,["message"])])]),M,e("div",O,[e("div",E,[o(r,{for:"name",value:"Nom"}),o(i,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(s).name,"onUpdate:modelValue":l[1]||(l[1]=a=>t(s).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.name},null,8,["message"])]),e("div",T,[e("div",null,[A,e("div",D,[o(q,{modelValue:t(s).country,"onUpdate:modelValue":l[2]||(l[2]=a=>t(s).country=a),options:t(z)},null,8,["modelValue","options"])])])]),e("div",F,[e("div",L,[o(r,{for:"state",value:"État"}),o(i,{id:"state",type:"text",class:"mt-1 block w-full",modelValue:t(s).state,"onUpdate:modelValue":l[3]||(l[3]=a=>t(s).state=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.state},null,8,["message"])])]),e("div",P,[e("div",Q,[o(r,{for:"city",value:"Ville"}),o(i,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:t(s).city,"onUpdate:modelValue":l[4]||(l[4]=a=>t(s).city=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.city},null,8,["message"])])]),e("div",R,[e("div",G,[o(r,{for:"address",value:"Adresse"}),o(i,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:t(s).address,"onUpdate:modelValue":l[5]||(l[5]=a=>t(s).address=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.address},null,8,["message"])])]),e("div",H,[e("div",J,[o(r,{for:"zip_code",value:"Code postal"}),o(i,{id:"zip_code",type:"text",class:"mt-1 block w-full",modelValue:t(s).zip_code,"onUpdate:modelValue":l[6]||(l[6]=a=>t(s).zip_code=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.zip_code},null,8,["message"])])]),e("div",K,[e("div",W,[o(r,{for:"phone",value:"Numéro de téléphone"}),o(i,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:t(s).phone,"onUpdate:modelValue":l[7]||(l[7]=a=>t(s).phone=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.phone},null,8,["message"])])]),e("div",X,[e("div",Y,[o(r,{for:"company_name",value:"Nom de l'entreprise"}),o(i,{id:"company_name",type:"text",class:"mt-1 block w-full",modelValue:t(s).company_name,"onUpdate:modelValue":l[8]||(l[8]=a=>t(s).company_name=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.company_name},null,8,["message"])])]),e("div",Z,[e("div",ee,[o(r,{for:"apartment",value:"Appartement"}),o(i,{id:"apartment",type:"text",class:"mt-1 block w-full",modelValue:t(s).apartment,"onUpdate:modelValue":l[9]||(l[9]=a=>t(s).apartment=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(s).errors.apartment},null,8,["message"])])])])]),e("div",se,[te,e("div",oe,[ae,e("ul",le,[(c(!0),_(k,null,w(d.value.order_items,a=>(c(),_("li",{key:a.id,class:"flex py-6 px-4 sm:px-6"},[de,e("div",ne,[e("div",re,[e("div",ie,[e("h4",me,[e("a",{href:a.id,class:"font-medium text-gray-700 hover:text-gray-800"},u(a.product.name),9,ce)])]),e("div",ue,[e("button",pe,[_e,o(t($),{onClick:be=>x(a.id),class:"h-5 w-5","aria-hidden":"true"},null,8,["onClick"])])])]),e("div",fe,[e("p",ye,u(a.product.price)+" € ",1),e("div",xe,[e("label",ge,"Quantité : "+u(a.product.price)+" €",1)])])])]))),128))]),ve,he])])],40,B)])])]),_:1}))}};export{Ie as default};
