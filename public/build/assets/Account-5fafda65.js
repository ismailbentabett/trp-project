import{o as p,e as b,N as w,I as S,E as C,X as B,l as V,c as k,d as a,a as n,g as v,b as e,i as _,Y as y,n as $,j as z,_ as E,r as g,T as U,h,u,$ as N,x as T,J as D}from"./app-be752e86.js";import{_ as M}from"./Toastr-4f97591a.js";import{_ as P}from"./InputError-e30f7fb8.js";import{_ as j,a as q}from"./TextInput-78f436d4.js";import A from"./Edit-c7e4db1d.js";import"./AuthenticatedLayout-16295b11.js";import"./CommandPalette-97a0a532.js";import"./CartStore-76e4ad5a.js";import"./Avatar-996ef94d.js";const I={},K={class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"};function W(s,r){return p(),b("button",K,[w(s.$slots,"default")])}const x=M(I,[["render",W]]),L={class:"fixed inset-0 overflow-y-auto px-4 py-6 sm:px-0 z-50","scroll-region":""},F=e("div",{class:"absolute inset-0 bg-gray-500 opacity-75"},null,-1),J=[F],O={__name:"Modal",props:{show:{type:Boolean,default:!1},maxWidth:{type:String,default:"2xl"},closeable:{type:Boolean,default:!0}},emits:["close"],setup(s,{emit:r}){const t=s,o=r;S(()=>t.show,()=>{t.show?document.body.style.overflow="hidden":document.body.style.overflow=null});const m=()=>{t.closeable&&o("close")},l=i=>{i.key==="Escape"&&t.show&&m()};C(()=>document.addEventListener("keydown",l)),B(()=>{document.removeEventListener("keydown",l),document.body.style.overflow=null});const c=V(()=>({sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"})[t.maxWidth]);return(i,d)=>(p(),k(E,{to:"body"},[a(_,{"leave-active-class":"duration-200"},{default:n(()=>[v(e("div",L,[a(_,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[v(e("div",{class:"fixed inset-0 transform transition-all",onClick:m},J,512),[[y,s.show]])]),_:1}),a(_,{"enter-active-class":"ease-out duration-300","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-active-class":"ease-in duration-200","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:n(()=>[v(e("div",{class:$(["mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto",c.value])},[s.show?w(i.$slots,"default",{key:0}):z("",!0)],2),[[y,s.show]])]),_:3})],512),[[y,s.show]])]),_:3})]))}},X=["type"],Y={__name:"SecondaryButton",props:{type:{type:String,default:"button"}},setup(s){return(r,t)=>(p(),b("button",{type:s.type,class:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-cerulean-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"},[w(r.$slots,"default")],8,X))}},G={class:"py-6 px-4 sm:p-6 lg:pb-8"},H={class:"pt-8"},Q=e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Supprimer le compte")],-1),R={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},Z=e("div",{class:"sm:col-span-6"},[e("div",{class:"sm:col-span-6"},[e("p",{class:"mt-1 text-sm text-gray-600"}," Une fois votre compte supprimé, toutes ses ressources et données seront définitivement effacées. Avant de supprimer votre compte, veuillez télécharger toutes les données ou informations que vous souhaitez conserver. ")])],-1),ee={class:"sm:col-span-6"},se={class:"sm:col-span-6"},te={class:"p-6"},oe=e("h2",{class:"text-lg font-medium text-gray-900"}," Êtes-vous sûr de vouloir supprimer votre compte ? ",-1),ae=e("p",{class:"mt-1 text-sm text-gray-600"}," Une fois votre compte supprimé, toutes ses ressources et données seront définitivement définitivement. Veuillez saisir votre mot de passe pour confirmer que vous souhaitez supprimer définitivement votre compte. mot de passe pour confirmer que vous souhaitez supprimer définitivement votre compte. compte. ",-1),re={class:"mt-6"},ne={class:"mt-6 flex justify-end"},_e={__name:"Account",setup(s){const r=g(!1),t=g(null),o=U({password:""}),m=()=>{r.value=!0,D(()=>t.value.focus())},l=()=>{o.delete(route("settings.destroy"),{preserveScroll:!0,onSuccess:()=>c(),onError:()=>t.value.focus(),onFinish:()=>o.reset()})},c=()=>{r.value=!1,o.reset()};return(i,d)=>(p(),k(A,null,{default:n(()=>[e("form",{class:"divide-y divide-gray-200 lg:col-span-9",onSubmit:d[1]||(d[1]=T((...f)=>i.updatePassword&&i.updatePassword(...f),["prevent"]))},[e("div",G,[e("div",H,[Q,e("div",R,[Z,e("div",ee,[e("div",se,[a(x,{class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700",onClick:m},{default:n(()=>[h("Supprimer le compte")]),_:1}),a(O,{show:r.value,onClose:c},{default:n(()=>[e("div",te,[oe,ae,e("div",re,[a(j,{for:"password",value:"Password",class:"sr-only"}),a(q,{id:"password",ref_key:"passwordInput",ref:t,modelValue:u(o).password,"onUpdate:modelValue":d[0]||(d[0]=f=>u(o).password=f),type:"password",class:"mt-1 block w-3/4",placeholder:"Password",onKeyup:N(l,["enter"])},null,8,["modelValue","onKeyup"]),a(P,{message:u(o).errors.password,class:"mt-2"},null,8,["message"])]),e("div",ne,[a(Y,{onClick:c},{default:n(()=>[h(" Annuler ")]),_:1}),a(x,{class:$(["ml-3",{"opacity-25":u(o).processing}]),disabled:u(o).processing,onClick:l},{default:n(()=>[h(" Supprimer le compte ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])])])])])])],32)]),_:1}))}};export{_e as default};
