import{E as b,_ as g}from"./AuthenticatedLayout-16295b11.js";import{_ as v}from"./Pagination-f57db763.js";import{T as k,o as a,e as n,b as t,x as w,g as q,y as C,u,n as $,k as y,r as j,c as S,a as B,d as x,F as I,f as F,t as c,j as l,h as f}from"./app-be752e86.js";import{u as N}from"./CartStore-76e4ad5a.js";import"./Toastr-4f97591a.js";import"./CommandPalette-97a0a532.js";import"./Avatar-996ef94d.js";const P={class:"max-w-7xl"},V={class:"mx-auto max-w-3xl"},A={class:"mt-1"},T={class:"flex items-center border border-gray-200 rounded"},z={__name:"UpdateCartForm",props:{item:Object},emits:["reloadcart"],setup(m,{emit:h}){const o=h,d=m;let r=k({quantity:d.item.quantity});const p=()=>{r.quantity++,y.post(`/cart/update-quantity/${d.item.id}`,{quantity:r.quantity}).then(()=>{o("reloadcart")})},_=()=>{r.quantity>=1&&(r.quantity--,y.post(`/cart/update-quantity/${d.item.id}`,r).then(()=>{o("reloadcart")}))};return(i,s)=>(a(),n("div",P,[t("div",V,[t("form",{onSubmit:s[3]||(s[3]=w((...e)=>i.submit&&i.submit(...e),["prevent"]))},[t("div",A,[t("div",T,[t("button",{type:"button",onClick:s[0]||(s[0]=e=>_()),class:"w-10 h-10 leading-10 text-gray-600 transition hover:opacity-75"}," − "),q(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>u(r).quantity=e),type:"number",id:"quantity",minlength:"10",maxlength:"3000",pattern:"/^-?\\d+\\.?\\d*$/",onKeyPress:"if(this.value.quantity==4) return false;",class:$([u(r).errors.quantity?"block w-full rounded-md border-red-300 pr-10 text-red-900 placeholder-red-300 focus:border-red-500 focus:outline-none focus:ring-red-500 sm:text-sm h-10 w-full border-transparent text-center [-moz-appearance:_textfield] sm:text-sm [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none":"block w-full rounded-md pr-10 text-gray-900  focus:outline-none sm:text-sm border-gray-300 focus:ring-cerulean-500 focus:border-cerulean-500 h-10 w-full border-transparent text-center [-moz-appearance:_textfield] sm:text-sm [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none"])},null,2),[[C,u(r).quantity]]),t("button",{type:"button",onClick:s[2]||(s[2]=e=>p()),class:"w-10 h-10 leading-10 text-gray-600 transition hover:opacity-75"}," + ")])])],32)])]))}},D={class:"bg-white"},E={class:"mx-auto max-w-2xl py-16 px-4 sm:py-24 sm:px-6 lg:px-0"},R=t("h1",{class:"text-center text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl"}," Panier d'achat ",-1),L={class:"mt-12"},M={"aria-labelledby":"cart-heading"},U=t("h2",{id:"cart-heading",class:"sr-only"},"Articles dans votre panier",-1),W={key:0},K={key:1,role:"list",class:"divide-y divide-gray-200 border-t border-b border-gray-200"},O={class:"flex-shrink-0"},Q=["src"],G={key:1,src:"https://placehold.co/600x400?text=No Image",class:"h-24 w-24 rounded-md object-cover object-center sm:h-32 sm:w-32"},H={class:"ml-4 flex flex-1 flex-col sm:ml-6"},J={class:"flex justify-between"},X={class:"text-sm"},Y=["href"],Z={class:"hidden sm:flex sm:flex-col"},tt={key:0,class:"ml-4 text-sm font-xs text-gray-500"},et={key:1,class:"ml-4 text-sm font-xs text-gray-500"},st={key:2,class:"ml-4 text-sm font-xs text-gray-500"},at={key:3,class:"ml-4 text-sm font-xs text-gray-500"},nt={key:4,class:"ml-4 text-sm font-xs text-gray-500"},rt={key:5,class:"ml-4 text-sm font-xs text-gray-500"},ot={class:"ml-4 text-sm font-medium text-gray-900"},it={class:"mt-4 flex flex-1 items-end justify-between"},ct={class:"ml-4"},lt=["onClick"],dt=t("span",null,"Supprimer",-1),ut=[dt],mt={"aria-labelledby":"summary-heading",class:"mt-10"},pt=t("h2",{id:"summary-heading",class:"sr-only"},"Résumé de la commande",-1),_t={class:"space-y-4"},xt={class:"flex items-center justify-between"},ht=t("dt",{class:"text-base font-medium text-gray-900"},"Sous-total",-1),yt={class:"ml-4 text-base font-medium text-gray-900"},ft=t("p",{class:"mt-1 text-sm text-gray-500"}," Les frais d'expédition et les taxes seront calculés au moment du paiement. ",-1),bt=t("div",{class:"mt-10"},[t("a",{type:"button",href:"/orders/checkout",class:"w-full rounded-md border border-transparent bg-cerulean-600 py-3 px-4 text-base font-medium text-white shadow-sm hover:bg-cerulean-700 focus:outline-none focus:ring-2 focus:ring-cerulean-500 focus:ring-offset-2 focus:ring-offset-gray-50"},"Checkout")],-1),gt=t("div",{class:"mt-6 text-center text-sm text-gray-500"},[t("p",null,[f(" ou "),t("a",{href:"/products",class:"font-medium text-cerulean-600 hover:text-cerulean-500"},[f(" Poursuivre les achats "),t("span",{"aria-hidden":"true"}," →")])])],-1),Bt={__name:"Cart",props:{cart:{type:Array,default:()=>({})},cartItems:{type:Array,default:()=>[]}},setup(m){const o=j(m),d=()=>{axios.get("/cart/my").then(i=>{o.value=i.data})};var r=i=>i.medias.filter(s=>s.type&&s.type.startsWith("image/"));const p=N(),_=i=>{axios.delete(`/cart/${i}`).then(s=>{o.value=s.data,p.CartCount()}).catch(s=>{})};return(i,s)=>(a(),S(g,{title:"Panier",description:"Panier"},{default:B(()=>[t("div",D,[t("main",null,[t("div",E,[R,t("form",L,[t("section",M,[U,o.value.cartItems.data.length==0?(a(),n("ul",W,[x(b)])):(a(),n("ul",K,[(a(!0),n(I,null,F(o.value.cartItems.data,e=>(a(),n("li",{key:e.id,class:"flex py-6"},[t("div",O,[u(r)(e.product).length>0?(a(),n("img",{key:0,src:u(r)(e.product)[0].url,class:"h-24 w-24 rounded-md object-cover object-center sm:h-32 sm:w-32"},null,8,Q)):(a(),n("img",G))]),t("div",H,[t("div",null,[t("div",J,[t("h4",X,[t("a",{href:e.product.id,class:"font-medium text-gray-700 hover:text-gray-800"},c(e.product.name),9,Y)]),t("div",Z,[e.antenna_type?(a(),n("p",tt," Antenna Type : "+c(e.antenna_type),1)):l("",!0),e.battery?(a(),n("p",et," Battery : "+c(e.battery),1)):l("",!0),e.charger?(a(),n("p",st," Charger : "+c(e.charger),1)):l("",!0),e.frequency_band?(a(),n("p",at," Frequency Band : "+c(e.frequency_band),1)):l("",!0),e.quick_reference_guide?(a(),n("p",nt," Quick Frequency Range : "+c(e.quick_reference_guide),1)):l("",!0),e.quick_reference_guide?(a(),n("p",rt," Service Warranty : "+c(e.service_warranty),1)):l("",!0)]),t("p",ot,c(e.amount)+"€",1)])]),t("div",it,[t("div",ct,[t("button",{type:"button",onClick:vt=>_(e.id),class:"text-sm font-medium text-cerulean-600 hover:text-cerulean-500"},ut,8,lt)]),x(z,{item:e,onReloadcart:d},null,8,["item"])])])]))),128))]))]),x(v,{links:o.value.cartItems.links},null,8,["links"]),t("section",mt,[pt,t("div",null,[t("dl",_t,[t("div",xt,[ht,t("dd",yt,c(o.value.cart.total_amount)+"€ ",1)])]),ft]),bt,gt])])])])])]),_:1}))}};export{Bt as default};
