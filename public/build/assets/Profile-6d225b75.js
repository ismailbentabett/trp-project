import{Q as q,T as C,r as h,o as p,c as I,a as m,b as e,u as s,e as x,h as v,d as t,M as T,g as B,Y as N,j as V,i as $,x as A}from"./app-be752e86.js";import{_ as r}from"./InputError-e30f7fb8.js";import{_ as n,a as d}from"./TextInput-78f436d4.js";import{P as F}from"./PrimaryButton-0dff41d8.js";import{_ as S}from"./SelectField-b25c1ffd.js";import D from"./Edit-c7e4db1d.js";import{c as E}from"./countries-95ac9151.js";import{v as R,p as j,a as H}from"./filepond-plugin-image-preview.esm-6014f872.js";import"./Toastr-4f97591a.js";import"./listbox-82e5f2d6.js";import"./Avatar-996ef94d.js";import"./AuthenticatedLayout-16295b11.js";import"./CommandPalette-97a0a532.js";import"./CartStore-76e4ad5a.js";const L={key:0},M={class:"text-sm mt-2 text-gray-800"},O={class:"mt-2 font-medium text-sm text-green-600"},G={class:"py-6 px-4 sm:p-6 lg:pb-8"},Q=e("div",null,[e("h2",{class:"text-lg font-medium leading-6 text-gray-900"},"Profil"),e("p",{class:"mt-1 text-sm text-gray-500"},"Ces informations seront affichées publiquement. partager.")],-1),W={class:"grid grid-cols-12 gap-6 mt-6 mr-10"},Y={class:"col-span-12 sm:col-span-8"},J={class:"sm:col-span-6"},K=e("label",{for:"cover-photo",class:"block text-sm font-medium text-gray-700"},"Photo de couverture",-1),X={class:"col-span-12 sm:col-span-4 md:col-span-4 lg:col-span-4"},Z={class:"flex items-center"},ee={class:"ml-5 rounded-md"},se={class:"group relative flex items-center justify-center rounded-md"},te={class:"pt-8"},oe=e("div",null,[e("h3",{class:"text-lg font-medium leading-6 text-gray-900"},"Informations personnelles"),e("p",{class:"mt-1 text-sm text-gray-500"}," Utilisez une adresse permanente où vous pouvez recevoir du courrier. ")],-1),ae={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},le={class:"sm:col-span-6"},ie={class:"sm:col-span-6"},re={class:"sm:col-span-6"},ne=e("label",{for:"country",class:"block text-sm font-medium text-gray-700"},"Pays",-1),de={class:"mt-1"},ce={class:"sm:col-span-6"},me={class:"sm:col-span-6"},ue={class:"sm:col-span-2"},pe={class:"sm:col-span-6"},ve={class:"sm:col-span-2"},fe={class:"sm:col-span-6"},_e={class:"sm:col-span-2"},ge={class:"sm:col-span-6"},ye={class:"sm:col-span-6"},he={class:"sm:col-span-6"},xe={class:"pt-5 m-5"},Ve={class:"flex justify-end"},be={key:0,class:"text-sm text-gray-600"},Se={__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(f){const i=q().props.auth.user,o=C({name:i.name,email:i.email,state:i.state,city:i.city,address:i.address,zip_code:i.zip_code,phone:i.phone,country:i.country}),_=R(H,j),g=h(null),y=h(null),b=i.cover,P=i.avatar,k=()=>{g.value.addFile(b)},w=()=>{y.value.addFile(P)},z=async(c,a)=>{const l=new FormData;l.append("cover",a.file),axios.post("/profile/upload-cover",l,{headers:{"Content-Type":"multipart/form-data"}}).then(u=>{}).catch(u=>{})},U=async(c,a)=>{const l=new FormData;l.append("avatar",a.file),axios.post("/profile/upload-avatar",l,{headers:{"Content-Type":"multipart/form-data"}}).then(u=>{}).catch(u=>{})};return(c,a)=>(p(),I(D,null,{default:m(()=>[e("form",{class:"divide-y divide-gray-200 lg:col-span-9",onSubmit:a[8]||(a[8]=A(l=>s(o).patch(c.route("settings.update")),["prevent"]))},[f.mustVerifyEmail&&s(i).email_verified_at===null?(p(),x("div",L,[e("p",M,[v(" Votre adresse électronique n'est pas vérifiée. "),t(s(T),{href:c.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cerulean-500"},{default:m(()=>[v(" Cliquez ici pour renvoyer l'e-mail de vérification. ")]),_:1},8,["href"])]),B(e("div",O," Un nouveau lien de vérification a été envoyé à votre adresse électronique. ",512),[[N,f.status==="verification-link-sent"]])])):V("",!0),e("div",G,[Q,e("div",W,[e("div",Y,[e("div",J,[K,t(s(_),{class:"cursor-pointer",ref_key:"coverPond",ref:g,name:"cover","label-idle":"Téléchargez l'image de couverture ici","accepted-file-types":"image/*",onAddfile:z,onInit:k},null,512)])]),e("div",X,[e("div",Z,[e("div",ee,[e("div",se,[t(s(_),{labelIdle:"''Glisser-déposer votre image ou  <span class='filepond--label-action'>Parcourir</span>'",imagePreviewHeight:"170,",imageCropAspectRatio:"1:1",imageResizeTargetWidth:"200",imageResizeTargetHeight:"200",stylePanelLayout:"compact circle",styleLoadIndicatorPosition:"center bottom",styleProgressIndicatorPosition:"right botto",styleButtonRemoveItemPosition:"left bottom",styleButtonProcessItemPosition:"right bottom",class:"cursor-pointer avatar-upload",ref_key:"avatarPond",ref:y,name:"cover","label-idle":"Téléchargez l'image de Profil ici","accepted-file-types":"image/*",onAddfile:U,onInit:w},null,512)])])])])]),e("div",te,[oe,e("div",ae,[e("div",le,[t(n,{for:"name",value:"Nom"}),t(d,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(o).name,"onUpdate:modelValue":a[0]||(a[0]=l=>s(o).name=l),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(o).errors.name},null,8,["message"])]),e("div",ie,[t(n,{for:"email",value:"Email"}),t(d,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(o).email,"onUpdate:modelValue":a[1]||(a[1]=l=>s(o).email=l),required:"",autocomplete:"username"},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(o).errors.email},null,8,["message"])]),e("div",re,[e("div",null,[ne,e("div",de,[t(S,{modelValue:s(o).country,"onUpdate:modelValue":a[2]||(a[2]=l=>s(o).country=l),options:s(E)},null,8,["modelValue","options"])])])]),e("div",ce,[e("div",me,[t(n,{for:"state",value:"État"}),t(d,{id:"state",type:"text",class:"mt-1 block w-full",modelValue:s(o).state,"onUpdate:modelValue":a[3]||(a[3]=l=>s(o).state=l),required:""},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(o).errors.state},null,8,["message"])])]),e("div",ue,[e("div",pe,[t(n,{for:"city",value:"Ville"}),t(d,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:s(o).city,"onUpdate:modelValue":a[4]||(a[4]=l=>s(o).city=l),required:""},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(o).errors.city},null,8,["message"])])]),e("div",ve,[e("div",fe,[t(n,{for:"address",value:"Adresse"}),t(d,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:s(o).address,"onUpdate:modelValue":a[5]||(a[5]=l=>s(o).address=l),required:""},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(o).errors.address},null,8,["message"])])]),e("div",_e,[e("div",ge,[t(n,{for:"zip_code",value:"Code postal"}),t(d,{id:"zip_code",type:"text",class:"mt-1 block w-full",modelValue:s(o).zip_code,"onUpdate:modelValue":a[6]||(a[6]=l=>s(o).zip_code=l),required:""},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(o).errors.zip_code},null,8,["message"])])]),e("div",ye,[e("div",he,[t(n,{for:"phone",value:"Numéro de téléphone"}),t(d,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:s(o).phone,"onUpdate:modelValue":a[7]||(a[7]=l=>s(o).phone=l),required:""},null,8,["modelValue"]),t(r,{class:"mt-2",message:s(o).errors.phone},null,8,["message"])])])])])]),e("div",xe,[e("div",Ve,[t(F,{disabled:s(o).processing},{default:m(()=>[v("Save")]),_:1},8,["disabled"]),t($,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:m(()=>[s(o).recentlySuccessful?(p(),x("p",be,"Sauvegardé.")):V("",!0)]),_:1})])])],32)]),_:1}))}};export{Se as default};
