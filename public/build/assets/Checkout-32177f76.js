import{Q as y,T as h,o as u,c as x,a as g,b as s,x as v,d as o,u as t,e as p,f as b,t as r,F as V}from"./app-be752e86.js";import{_ as w}from"./AuthenticatedLayout-16295b11.js";import{_ as n}from"./InputError-e30f7fb8.js";import{_ as d,a as m}from"./TextInput-78f436d4.js";import{c as k}from"./countries-95ac9151.js";import{_ as q}from"./SelectField-b25c1ffd.js";import{r as U}from"./TrashIcon-534ed732.js";import"./Toastr-4f97591a.js";import"./CommandPalette-97a0a532.js";import"./CartStore-76e4ad5a.js";import"./Avatar-996ef94d.js";import"./listbox-82e5f2d6.js";const z={class:"bg-gray-50"},j={class:"mx-auto max-w-2xl px-4 pt-16 pb-24 sm:px-6 lg:max-w-7xl lg:px-8"},N=s("h2",{class:"sr-only"},"Paiement",-1),S=["onSubmit"],$=s("h2",{class:"text-lg font-medium text-gray-900 my-5"},"Informations sur les contacts",-1),B={class:"sm:col-span-6"},C=s("h2",{class:"text-lg font-medium text-gray-900 my-5"},"Informations sur l'expédition",-1),P={class:"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6"},I={class:"sm:col-span-6"},A={class:"sm:col-span-6"},E=s("label",{for:"country",class:"block text-sm font-medium text-gray-700"},"Pays",-1),F={class:"mt-1"},L={class:"sm:col-span-6"},Q={class:"sm:col-span-6"},T={class:"sm:col-span-2"},D={class:"sm:col-span-6"},M={class:"sm:col-span-2"},O={class:"sm:col-span-6"},R={class:"sm:col-span-2"},G={class:"sm:col-span-6"},H={class:"sm:col-span-6"},J={class:"sm:col-span-6"},K={class:"sm:col-span-6"},W={class:"sm:col-span-6"},X={class:"sm:col-span-6"},Y={class:"sm:col-span-6"},Z={class:"mt-10 lg:mt-0"},ss=s("h2",{class:"text-lg font-medium text-gray-900"},"Résumé de la commande",-1),es={class:"mt-4 rounded-lg border border-gray-200 bg-white shadow-sm"},ts=s("h3",{class:"sr-only"},"Items in your cart",-1),os={role:"list",class:"divide-y divide-gray-200"},as=s("div",{class:"flex-shrink-0"},null,-1),ls={class:"ml-6 flex flex-1 flex-col"},ns={class:"flex"},ds={class:"min-w-0 flex-1"},ms={class:"text-sm"},is=["href"],rs={class:"ml-4 flow-root flex-shrink-0"},cs={type:"button",class:"-m-2.5 flex items-center justify-center bg-white p-2.5 text-gray-400 hover:text-gray-500"},us=s("span",{class:"sr-only"},"Supprimer",-1),ps={class:"flex flex-1 items-end justify-between pt-2"},_s={class:"mt-1 text-sm font-medium text-gray-900"},fs={class:"ml-4"},ys={for:"quantity",class:""},hs={class:"space-y-6 border-t border-gray-200 py-6 px-4 sm:px-6"},xs={class:"flex items-center justify-between"},gs=s("dt",{class:"text-sm"},"Sous-total",-1),vs={class:"text-sm font-medium text-gray-900"},bs={class:"flex items-center justify-between border-t border-gray-200 pt-6"},Vs=s("dt",{class:"text-base font-medium"},"Total",-1),ws={class:"text-base font-medium text-gray-900"},ks=s("div",{class:"border-t border-gray-200 py-6 px-4 sm:px-6"},[s("div",{class:"mt-10"},[s("button",{type:"submit",class:"w-full rounded-md border border-transparent bg-cerulean-600 py-3 px-4 text-base font-medium text-white shadow-sm hover:bg-cerulean-700 focus:outline-none focus:ring-2 focus:ring-cerulean-500 focus:ring-offset-2 focus:ring-offset-gray-50"}," Checkout ")])],-1),Es={__name:"Checkout",props:{cart:{type:Object}},setup(c){const _=()=>{axios.post("/orders/checkout",{name:e.name,email:e.email,state:e.state,city:e.city,address:e.address,zip_code:e.zip_code,phone:e.phone,country:e.country,company_name:e.company_name,apartment:e.apartment}).then(f=>{window.location.href="/orders"})},i=y().props.auth.user,e=h({name:i.name,email:i.email,state:i.state,city:i.city,address:i.address,zip_code:i.zip_code,phone:i.phone,country:i.country,company_name:"",apartment:""});return(f,l)=>(u(),x(w,{title:"Paiement",description:"Paiement"},{default:g(()=>[s("div",z,[s("div",j,[N,s("form",{class:"lg:grid lg:grid-cols-2 lg:gap-x-12 xl:gap-x-16",onSubmit:v(_,["prevent"])},[s("div",null,[s("div",null,[$,s("div",B,[o(d,{for:"email",value:"Email"}),o(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(e).email,"onUpdate:modelValue":l[0]||(l[0]=a=>t(e).email=a),required:"",autocomplete:"username"},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.email},null,8,["message"])])]),C,s("div",P,[s("div",I,[o(d,{for:"name",value:"Nom"}),o(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(e).name,"onUpdate:modelValue":l[1]||(l[1]=a=>t(e).name=a),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.name},null,8,["message"])]),s("div",A,[s("div",null,[E,s("div",F,[o(q,{modelValue:t(e).country,"onUpdate:modelValue":l[2]||(l[2]=a=>t(e).country=a),options:t(k)},null,8,["modelValue","options"])])])]),s("div",L,[s("div",Q,[o(d,{for:"state",value:"État"}),o(m,{id:"state",type:"text",class:"mt-1 block w-full",modelValue:t(e).state,"onUpdate:modelValue":l[3]||(l[3]=a=>t(e).state=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.state},null,8,["message"])])]),s("div",T,[s("div",D,[o(d,{for:"city",value:"Ville"}),o(m,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:t(e).city,"onUpdate:modelValue":l[4]||(l[4]=a=>t(e).city=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.city},null,8,["message"])])]),s("div",M,[s("div",O,[o(d,{for:"address",value:"Adresse"}),o(m,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:t(e).address,"onUpdate:modelValue":l[5]||(l[5]=a=>t(e).address=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.address},null,8,["message"])])]),s("div",R,[s("div",G,[o(d,{for:"zip_code",value:"Code postal"}),o(m,{id:"zip_code",type:"text",class:"mt-1 block w-full",modelValue:t(e).zip_code,"onUpdate:modelValue":l[6]||(l[6]=a=>t(e).zip_code=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.zip_code},null,8,["message"])])]),s("div",H,[s("div",J,[o(d,{for:"phone",value:"Numéro de téléphone"}),o(m,{id:"phone",type:"text",class:"mt-1 block w-full",modelValue:t(e).phone,"onUpdate:modelValue":l[7]||(l[7]=a=>t(e).phone=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.phone},null,8,["message"])])]),s("div",K,[s("div",W,[o(d,{for:"company_name",value:"Nom de L'entreprise"}),o(m,{id:"company_name",type:"text",class:"mt-1 block w-full",modelValue:t(e).company_name,"onUpdate:modelValue":l[8]||(l[8]=a=>t(e).company_name=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.company_name},null,8,["message"])])]),s("div",X,[s("div",Y,[o(d,{for:"apartment",value:"Appartement"}),o(m,{id:"apartment",type:"text",class:"mt-1 block w-full",modelValue:t(e).apartment,"onUpdate:modelValue":l[9]||(l[9]=a=>t(e).apartment=a),required:""},null,8,["modelValue"]),o(n,{class:"mt-2",message:t(e).errors.apartment},null,8,["message"])])])])]),s("div",Z,[ss,s("div",es,[ts,s("ul",os,[(u(!0),p(V,null,b(c.cart.cart_items,a=>(u(),p("li",{key:a.id,class:"flex py-6 px-4 sm:px-6"},[as,s("div",ls,[s("div",ns,[s("div",ds,[s("h4",ms,[s("a",{href:a.id,class:"font-medium text-gray-700 hover:text-gray-800"},r(a.product.name),9,is)])]),s("div",rs,[s("button",cs,[us,o(t(U),{class:"h-5 w-5","aria-hidden":"true"})])])]),s("div",ps,[s("p",_s,r(a.price)+" €",1),s("div",fs,[s("label",ys,"Quantité : "+r(a.quantity),1)])])])]))),128))]),s("dl",hs,[s("div",xs,[gs,s("dd",vs,r(c.cart.total_amount)+"€",1)]),s("div",bs,[Vs,s("dd",ws,r(c.cart.total_amount)+"€",1)])]),ks])])],40,S)])])]),_:1}))}};export{Es as default};
